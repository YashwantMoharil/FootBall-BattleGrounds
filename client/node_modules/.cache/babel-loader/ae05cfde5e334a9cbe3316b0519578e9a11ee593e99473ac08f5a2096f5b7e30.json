{"ast":null,"code":"import React, { useCallback, useMemo } from 'react';\nimport { useDeleteHandler, useUserRole } from './hooks';\nimport { MessageDeleted as DefaultMessageDeleted } from './MessageDeleted';\nimport { MessageTimestamp } from './MessageTimestamp';\nimport { getMessageActions } from './utils';\nimport { Avatar } from '../Avatar';\nimport { Gallery } from '../Gallery';\nimport { MessageActions } from '../MessageActions';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nimport { renderText } from './renderText';\nconst selectColor = (number, dark) => {\n  const hue = number * 137.508; // use golden angle approximation\n  return `hsl(${hue},${dark ? '50%' : '85%'}, ${dark ? '75%' : '55%'})`;\n};\nconst hashUserId = userId => {\n  const hash = userId.split('').reduce((acc, c) => {\n    acc = (acc << 5) - acc + c.charCodeAt(0);\n    return acc & acc;\n  }, 0);\n  return Math.abs(hash) / 10 ** Math.ceil(Math.log10(Math.abs(hash) + 1));\n};\nconst getUserColor = (theme, userId) => selectColor(hashUserId(userId), theme.includes('dark'));\nconst UnMemoizedFixedHeightMessage = props => {\n  const {\n    groupedByUser: propGroupedByUser,\n    message: propMessage\n  } = props;\n  const {\n    theme\n  } = useChatContext('FixedHeightMessage');\n  const {\n    groupedByUser: contextGroupedByUser,\n    message: contextMessage\n  } = useMessageContext('FixedHeightMessage');\n  const {\n    MessageDeleted = DefaultMessageDeleted\n  } = useComponentContext('FixedHeightMessage');\n  const {\n    userLanguage\n  } = useTranslationContext('FixedHeightMessage');\n  const groupedByUser = propGroupedByUser !== undefined ? propGroupedByUser : contextGroupedByUser;\n  const message = propMessage || contextMessage;\n  const handleDelete = useDeleteHandler(message);\n  const role = useUserRole(message);\n  const messageTextToRender = message?.i18n?.[`${userLanguage}_text`] || message?.text;\n  const renderedText = useMemo(() => renderText(messageTextToRender, message.mentioned_users), [message.mentioned_users, messageTextToRender]);\n  const userId = message.user?.id || '';\n  const userColor = useMemo(() => getUserColor(theme, userId), [userId, theme]);\n  const messageActionsHandler = useCallback(() => getMessageActions(['delete'], {\n    canDelete: role.canDelete\n  }), [role]);\n  const images = message?.attachments?.filter(({\n    type\n  }) => type === 'image');\n  return React.createElement(\"div\", {\n    className: `str-chat__virtual-message__wrapper ${role.isMyMessage ? 'str-chat__virtual-message__wrapper--me' : ''} ${groupedByUser ? 'str-chat__virtual-message__wrapper--group' : ''}`,\n    key: message.id\n  }, message.user && React.createElement(Avatar, {\n    image: message.user.image,\n    name: message.user.name || message.user.id,\n    user: message.user\n  }), React.createElement(\"div\", {\n    className: 'str-chat__virtual-message__content'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__virtual-message__meta'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__virtual-message__author',\n    style: {\n      color: userColor\n    }\n  }, React.createElement(\"strong\", null, message.user?.name || 'unknown'))), message.deleted_at || message.type === 'deleted' ? React.createElement(MessageDeleted, {\n    message: message\n  }) : React.createElement(React.Fragment, null, images && React.createElement(Gallery, {\n    images: images\n  }), React.createElement(\"div\", {\n    className: 'str-chat__virtual-message__text',\n    \"data-testid\": 'msg-text'\n  }, renderedText, React.createElement(\"div\", {\n    className: 'str-chat__virtual-message__data'\n  }, React.createElement(MessageActions, {\n    customWrapperClass: 'str-chat__virtual-message__actions',\n    getMessageActions: messageActionsHandler,\n    handleDelete: handleDelete,\n    message: message,\n    mine: () => role.isMyMessage\n  }), React.createElement(\"span\", {\n    className: 'str-chat__virtual-message__date'\n  }, React.createElement(MessageTimestamp, {\n    customClass: 'str-chat__message-simple-timestamp',\n    message: message\n  })))))));\n};\n/**\n * @deprecated - This UI component will be removed in the next major release.\n *\n * FixedHeightMessage - This component renders a single message.\n * It uses fixed height elements to make sure it works well in VirtualizedMessageList\n */\nexport const FixedHeightMessage = React.memo(UnMemoizedFixedHeightMessage);","map":{"version":3,"names":["React","useCallback","useMemo","useDeleteHandler","useUserRole","MessageDeleted","DefaultMessageDeleted","MessageTimestamp","getMessageActions","Avatar","Gallery","MessageActions","useChatContext","useComponentContext","useMessageContext","useTranslationContext","renderText","selectColor","number","dark","hue","hashUserId","userId","hash","split","reduce","acc","c","charCodeAt","Math","abs","ceil","log10","getUserColor","theme","includes","UnMemoizedFixedHeightMessage","props","groupedByUser","propGroupedByUser","message","propMessage","contextGroupedByUser","contextMessage","userLanguage","undefined","handleDelete","role","messageTextToRender","i18n","text","renderedText","mentioned_users","user","id","userColor","messageActionsHandler","canDelete","images","attachments","filter","type","createElement","className","isMyMessage","key","image","name","style","color","deleted_at","Fragment","customWrapperClass","mine","customClass","FixedHeightMessage","memo"],"sources":["/Users/yashwantmoharil/Documents/Football-Battlegrounds/client/node_modules/stream-chat-react/dist/components/Message/FixedHeightMessage.js"],"sourcesContent":["import React, { useCallback, useMemo } from 'react';\nimport { useDeleteHandler, useUserRole } from './hooks';\nimport { MessageDeleted as DefaultMessageDeleted } from './MessageDeleted';\nimport { MessageTimestamp } from './MessageTimestamp';\nimport { getMessageActions } from './utils';\nimport { Avatar } from '../Avatar';\nimport { Gallery } from '../Gallery';\nimport { MessageActions } from '../MessageActions';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nimport { renderText } from './renderText';\nconst selectColor = (number, dark) => {\n    const hue = number * 137.508; // use golden angle approximation\n    return `hsl(${hue},${dark ? '50%' : '85%'}, ${dark ? '75%' : '55%'})`;\n};\nconst hashUserId = (userId) => {\n    const hash = userId.split('').reduce((acc, c) => {\n        acc = (acc << 5) - acc + c.charCodeAt(0);\n        return acc & acc;\n    }, 0);\n    return Math.abs(hash) / 10 ** Math.ceil(Math.log10(Math.abs(hash) + 1));\n};\nconst getUserColor = (theme, userId) => selectColor(hashUserId(userId), theme.includes('dark'));\nconst UnMemoizedFixedHeightMessage = (props) => {\n    const { groupedByUser: propGroupedByUser, message: propMessage } = props;\n    const { theme } = useChatContext('FixedHeightMessage');\n    const { groupedByUser: contextGroupedByUser, message: contextMessage } = useMessageContext('FixedHeightMessage');\n    const { MessageDeleted = DefaultMessageDeleted } = useComponentContext('FixedHeightMessage');\n    const { userLanguage } = useTranslationContext('FixedHeightMessage');\n    const groupedByUser = propGroupedByUser !== undefined ? propGroupedByUser : contextGroupedByUser;\n    const message = propMessage || contextMessage;\n    const handleDelete = useDeleteHandler(message);\n    const role = useUserRole(message);\n    const messageTextToRender = message?.i18n?.[`${userLanguage}_text`] ||\n        message?.text;\n    const renderedText = useMemo(() => renderText(messageTextToRender, message.mentioned_users), [message.mentioned_users, messageTextToRender]);\n    const userId = message.user?.id || '';\n    const userColor = useMemo(() => getUserColor(theme, userId), [userId, theme]);\n    const messageActionsHandler = useCallback(() => getMessageActions(['delete'], { canDelete: role.canDelete }), [role]);\n    const images = message?.attachments?.filter(({ type }) => type === 'image');\n    return (React.createElement(\"div\", { className: `str-chat__virtual-message__wrapper ${role.isMyMessage ? 'str-chat__virtual-message__wrapper--me' : ''} ${groupedByUser ? 'str-chat__virtual-message__wrapper--group' : ''}`, key: message.id },\n        message.user && (React.createElement(Avatar, { image: message.user.image, name: message.user.name || message.user.id, user: message.user })),\n        React.createElement(\"div\", { className: 'str-chat__virtual-message__content' },\n            React.createElement(\"div\", { className: 'str-chat__virtual-message__meta' },\n                React.createElement(\"div\", { className: 'str-chat__virtual-message__author', style: { color: userColor } },\n                    React.createElement(\"strong\", null, message.user?.name || 'unknown'))),\n            message.deleted_at || message.type === 'deleted' ? (React.createElement(MessageDeleted, { message: message })) : (React.createElement(React.Fragment, null,\n                images && React.createElement(Gallery, { images: images }),\n                React.createElement(\"div\", { className: 'str-chat__virtual-message__text', \"data-testid\": 'msg-text' },\n                    renderedText,\n                    React.createElement(\"div\", { className: 'str-chat__virtual-message__data' },\n                        React.createElement(MessageActions, { customWrapperClass: 'str-chat__virtual-message__actions', getMessageActions: messageActionsHandler, handleDelete: handleDelete, message: message, mine: () => role.isMyMessage }),\n                        React.createElement(\"span\", { className: 'str-chat__virtual-message__date' },\n                            React.createElement(MessageTimestamp, { customClass: 'str-chat__message-simple-timestamp', message: message })))))))));\n};\n/**\n * @deprecated - This UI component will be removed in the next major release.\n *\n * FixedHeightMessage - This component renders a single message.\n * It uses fixed height elements to make sure it works well in VirtualizedMessageList\n */\nexport const FixedHeightMessage = React.memo(UnMemoizedFixedHeightMessage);\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,OAAO,QAAQ,OAAO;AACnD,SAASC,gBAAgB,EAAEC,WAAW,QAAQ,SAAS;AACvD,SAASC,cAAc,IAAIC,qBAAqB,QAAQ,kBAAkB;AAC1E,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,SAASC,iBAAiB,QAAQ,SAAS;AAC3C,SAASC,MAAM,QAAQ,WAAW;AAClC,SAASC,OAAO,QAAQ,YAAY;AACpC,SAASC,cAAc,QAAQ,mBAAmB;AAClD,SAASC,cAAc,QAAQ,2BAA2B;AAC1D,SAASC,mBAAmB,QAAQ,gCAAgC;AACpE,SAASC,iBAAiB,QAAQ,8BAA8B;AAChE,SAASC,qBAAqB,QAAQ,kCAAkC;AACxE,SAASC,UAAU,QAAQ,cAAc;AACzC,MAAMC,WAAW,GAAGA,CAACC,MAAM,EAAEC,IAAI,KAAK;EAClC,MAAMC,GAAG,GAAGF,MAAM,GAAG,OAAO,CAAC,CAAC;EAC9B,OAAO,OAAOE,GAAG,IAAID,IAAI,GAAG,KAAK,GAAG,KAAK,KAAKA,IAAI,GAAG,KAAK,GAAG,KAAK,GAAG;AACzE,CAAC;AACD,MAAME,UAAU,GAAIC,MAAM,IAAK;EAC3B,MAAMC,IAAI,GAAGD,MAAM,CAACE,KAAK,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,CAAC,KAAK;IAC7CD,GAAG,GAAG,CAACA,GAAG,IAAI,CAAC,IAAIA,GAAG,GAAGC,CAAC,CAACC,UAAU,CAAC,CAAC,CAAC;IACxC,OAAOF,GAAG,GAAGA,GAAG;EACpB,CAAC,EAAE,CAAC,CAAC;EACL,OAAOG,IAAI,CAACC,GAAG,CAACP,IAAI,CAAC,GAAG,EAAE,IAAIM,IAAI,CAACE,IAAI,CAACF,IAAI,CAACG,KAAK,CAACH,IAAI,CAACC,GAAG,CAACP,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;AAC3E,CAAC;AACD,MAAMU,YAAY,GAAGA,CAACC,KAAK,EAAEZ,MAAM,KAAKL,WAAW,CAACI,UAAU,CAACC,MAAM,CAAC,EAAEY,KAAK,CAACC,QAAQ,CAAC,MAAM,CAAC,CAAC;AAC/F,MAAMC,4BAA4B,GAAIC,KAAK,IAAK;EAC5C,MAAM;IAAEC,aAAa,EAAEC,iBAAiB;IAAEC,OAAO,EAAEC;EAAY,CAAC,GAAGJ,KAAK;EACxE,MAAM;IAAEH;EAAM,CAAC,GAAGtB,cAAc,CAAC,oBAAoB,CAAC;EACtD,MAAM;IAAE0B,aAAa,EAAEI,oBAAoB;IAAEF,OAAO,EAAEG;EAAe,CAAC,GAAG7B,iBAAiB,CAAC,oBAAoB,CAAC;EAChH,MAAM;IAAET,cAAc,GAAGC;EAAsB,CAAC,GAAGO,mBAAmB,CAAC,oBAAoB,CAAC;EAC5F,MAAM;IAAE+B;EAAa,CAAC,GAAG7B,qBAAqB,CAAC,oBAAoB,CAAC;EACpE,MAAMuB,aAAa,GAAGC,iBAAiB,KAAKM,SAAS,GAAGN,iBAAiB,GAAGG,oBAAoB;EAChG,MAAMF,OAAO,GAAGC,WAAW,IAAIE,cAAc;EAC7C,MAAMG,YAAY,GAAG3C,gBAAgB,CAACqC,OAAO,CAAC;EAC9C,MAAMO,IAAI,GAAG3C,WAAW,CAACoC,OAAO,CAAC;EACjC,MAAMQ,mBAAmB,GAAGR,OAAO,EAAES,IAAI,GAAG,GAAGL,YAAY,OAAO,CAAC,IAC/DJ,OAAO,EAAEU,IAAI;EACjB,MAAMC,YAAY,GAAGjD,OAAO,CAAC,MAAMc,UAAU,CAACgC,mBAAmB,EAAER,OAAO,CAACY,eAAe,CAAC,EAAE,CAACZ,OAAO,CAACY,eAAe,EAAEJ,mBAAmB,CAAC,CAAC;EAC5I,MAAM1B,MAAM,GAAGkB,OAAO,CAACa,IAAI,EAAEC,EAAE,IAAI,EAAE;EACrC,MAAMC,SAAS,GAAGrD,OAAO,CAAC,MAAM+B,YAAY,CAACC,KAAK,EAAEZ,MAAM,CAAC,EAAE,CAACA,MAAM,EAAEY,KAAK,CAAC,CAAC;EAC7E,MAAMsB,qBAAqB,GAAGvD,WAAW,CAAC,MAAMO,iBAAiB,CAAC,CAAC,QAAQ,CAAC,EAAE;IAAEiD,SAAS,EAAEV,IAAI,CAACU;EAAU,CAAC,CAAC,EAAE,CAACV,IAAI,CAAC,CAAC;EACrH,MAAMW,MAAM,GAAGlB,OAAO,EAAEmB,WAAW,EAAEC,MAAM,CAAC,CAAC;IAAEC;EAAK,CAAC,KAAKA,IAAI,KAAK,OAAO,CAAC;EAC3E,OAAQ7D,KAAK,CAAC8D,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE,sCAAsChB,IAAI,CAACiB,WAAW,GAAG,wCAAwC,GAAG,EAAE,IAAI1B,aAAa,GAAG,2CAA2C,GAAG,EAAE,EAAE;IAAE2B,GAAG,EAAEzB,OAAO,CAACc;EAAG,CAAC,EAC3Od,OAAO,CAACa,IAAI,IAAKrD,KAAK,CAAC8D,aAAa,CAACrD,MAAM,EAAE;IAAEyD,KAAK,EAAE1B,OAAO,CAACa,IAAI,CAACa,KAAK;IAAEC,IAAI,EAAE3B,OAAO,CAACa,IAAI,CAACc,IAAI,IAAI3B,OAAO,CAACa,IAAI,CAACC,EAAE;IAAED,IAAI,EAAEb,OAAO,CAACa;EAAK,CAAC,CAAE,EAC5IrD,KAAK,CAAC8D,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAAqC,CAAC,EAC1E/D,KAAK,CAAC8D,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAAkC,CAAC,EACvE/D,KAAK,CAAC8D,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE,mCAAmC;IAAEK,KAAK,EAAE;MAAEC,KAAK,EAAEd;IAAU;EAAE,CAAC,EACtGvD,KAAK,CAAC8D,aAAa,CAAC,QAAQ,EAAE,IAAI,EAAEtB,OAAO,CAACa,IAAI,EAAEc,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC,EAC9E3B,OAAO,CAAC8B,UAAU,IAAI9B,OAAO,CAACqB,IAAI,KAAK,SAAS,GAAI7D,KAAK,CAAC8D,aAAa,CAACzD,cAAc,EAAE;IAAEmC,OAAO,EAAEA;EAAQ,CAAC,CAAC,GAAKxC,KAAK,CAAC8D,aAAa,CAAC9D,KAAK,CAACuE,QAAQ,EAAE,IAAI,EACtJb,MAAM,IAAI1D,KAAK,CAAC8D,aAAa,CAACpD,OAAO,EAAE;IAAEgD,MAAM,EAAEA;EAAO,CAAC,CAAC,EAC1D1D,KAAK,CAAC8D,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE,iCAAiC;IAAE,aAAa,EAAE;EAAW,CAAC,EAClGZ,YAAY,EACZnD,KAAK,CAAC8D,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAAkC,CAAC,EACvE/D,KAAK,CAAC8D,aAAa,CAACnD,cAAc,EAAE;IAAE6D,kBAAkB,EAAE,oCAAoC;IAAEhE,iBAAiB,EAAEgD,qBAAqB;IAAEV,YAAY,EAAEA,YAAY;IAAEN,OAAO,EAAEA,OAAO;IAAEiC,IAAI,EAAEA,CAAA,KAAM1B,IAAI,CAACiB;EAAY,CAAC,CAAC,EACvNhE,KAAK,CAAC8D,aAAa,CAAC,MAAM,EAAE;IAAEC,SAAS,EAAE;EAAkC,CAAC,EACxE/D,KAAK,CAAC8D,aAAa,CAACvD,gBAAgB,EAAE;IAAEmE,WAAW,EAAE,oCAAoC;IAAElC,OAAO,EAAEA;EAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAE,CAAC,CAAC;AACjJ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMmC,kBAAkB,GAAG3E,KAAK,CAAC4E,IAAI,CAACxC,4BAA4B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}