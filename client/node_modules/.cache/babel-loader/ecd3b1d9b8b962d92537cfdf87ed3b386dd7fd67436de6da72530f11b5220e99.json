{"ast":null,"code":"import React, { useMemo } from 'react';\nimport { isAudioAttachment, isFileAttachment, isImageAttachment, isScrapedContent, isVideoAttachment, isVoiceRecordingAttachment } from 'stream-chat';\nimport { AudioContainer, CardContainer, FileContainer, GalleryContainer, ImageContainer, MediaContainer, UnsupportedAttachmentContainer, VoiceRecordingContainer } from './AttachmentContainer';\nimport { SUPPORTED_VIDEO_FORMATS } from './utils';\nconst CONTAINER_MAP = {\n  audio: AudioContainer,\n  card: CardContainer,\n  file: FileContainer,\n  media: MediaContainer,\n  unsupported: UnsupportedAttachmentContainer,\n  voiceRecording: VoiceRecordingContainer\n};\nexport const ATTACHMENT_GROUPS_ORDER = ['card', 'gallery', 'image', 'media', 'audio', 'voiceRecording', 'file', 'unsupported'];\n/**\n * A component used for rendering message attachments. By default, the component supports: AttachmentActions, Audio, Card, File, Gallery, Image, and Video\n */\nexport const Attachment = props => {\n  const {\n    attachments\n  } = props;\n  const groupedAttachments = useMemo(() => renderGroupedAttachments(props),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [attachments]);\n  return React.createElement(\"div\", {\n    className: 'str-chat__attachment-list'\n  }, ATTACHMENT_GROUPS_ORDER.reduce((acc, groupName) => [...acc, ...groupedAttachments[groupName]], []));\n};\nconst renderGroupedAttachments = ({\n  attachments,\n  ...rest\n}) => {\n  const uploadedImages = attachments.filter(attachment => isImageAttachment(attachment));\n  const containers = attachments.filter(attachment => !isImageAttachment(attachment)).reduce((typeMap, attachment) => {\n    const attachmentType = getAttachmentType(attachment);\n    const Container = CONTAINER_MAP[attachmentType];\n    typeMap[attachmentType].push(React.createElement(Container, {\n      key: `${attachmentType}-${typeMap[attachmentType].length}`,\n      ...rest,\n      attachment: attachment\n    }));\n    return typeMap;\n  }, {\n    audio: [],\n    card: [],\n    file: [],\n    media: [],\n    unsupported: [],\n    // not used in reduce\n    // eslint-disable-next-line sort-keys\n    image: [],\n    // eslint-disable-next-line sort-keys\n    gallery: [],\n    voiceRecording: []\n  });\n  if (uploadedImages.length > 1) {\n    containers['gallery'] = [React.createElement(GalleryContainer, {\n      key: 'gallery-container',\n      ...rest,\n      attachment: {\n        images: uploadedImages,\n        type: 'gallery'\n      }\n    })];\n  } else if (uploadedImages.length === 1) {\n    containers['image'] = [React.createElement(ImageContainer, {\n      key: 'image-container',\n      ...rest,\n      attachment: uploadedImages[0]\n    })];\n  }\n  return containers;\n};\nconst getAttachmentType = attachment => {\n  if (isScrapedContent(attachment)) {\n    return 'card';\n  } else if (isVideoAttachment(attachment, SUPPORTED_VIDEO_FORMATS)) {\n    return 'media';\n  } else if (isAudioAttachment(attachment)) {\n    return 'audio';\n  } else if (isVoiceRecordingAttachment(attachment)) {\n    return 'voiceRecording';\n  } else if (isFileAttachment(attachment, SUPPORTED_VIDEO_FORMATS)) {\n    return 'file';\n  }\n  return 'unsupported';\n};","map":{"version":3,"names":["React","useMemo","isAudioAttachment","isFileAttachment","isImageAttachment","isScrapedContent","isVideoAttachment","isVoiceRecordingAttachment","AudioContainer","CardContainer","FileContainer","GalleryContainer","ImageContainer","MediaContainer","UnsupportedAttachmentContainer","VoiceRecordingContainer","SUPPORTED_VIDEO_FORMATS","CONTAINER_MAP","audio","card","file","media","unsupported","voiceRecording","ATTACHMENT_GROUPS_ORDER","Attachment","props","attachments","groupedAttachments","renderGroupedAttachments","createElement","className","reduce","acc","groupName","rest","uploadedImages","filter","attachment","containers","typeMap","attachmentType","getAttachmentType","Container","push","key","length","image","gallery","images","type"],"sources":["/Users/yashwantmoharil/Desktop/football-battlegrounds/client/node_modules/stream-chat-react/dist/components/Attachment/Attachment.js"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { isAudioAttachment, isFileAttachment, isImageAttachment, isScrapedContent, isVideoAttachment, isVoiceRecordingAttachment, } from 'stream-chat';\nimport { AudioContainer, CardContainer, FileContainer, GalleryContainer, ImageContainer, MediaContainer, UnsupportedAttachmentContainer, VoiceRecordingContainer, } from './AttachmentContainer';\nimport { SUPPORTED_VIDEO_FORMATS } from './utils';\nconst CONTAINER_MAP = {\n    audio: AudioContainer,\n    card: CardContainer,\n    file: FileContainer,\n    media: MediaContainer,\n    unsupported: UnsupportedAttachmentContainer,\n    voiceRecording: VoiceRecordingContainer,\n};\nexport const ATTACHMENT_GROUPS_ORDER = [\n    'card',\n    'gallery',\n    'image',\n    'media',\n    'audio',\n    'voiceRecording',\n    'file',\n    'unsupported',\n];\n/**\n * A component used for rendering message attachments. By default, the component supports: AttachmentActions, Audio, Card, File, Gallery, Image, and Video\n */\nexport const Attachment = (props) => {\n    const { attachments } = props;\n    const groupedAttachments = useMemo(() => renderGroupedAttachments(props), \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [attachments]);\n    return (React.createElement(\"div\", { className: 'str-chat__attachment-list' }, ATTACHMENT_GROUPS_ORDER.reduce((acc, groupName) => [...acc, ...groupedAttachments[groupName]], [])));\n};\nconst renderGroupedAttachments = ({ attachments, ...rest }) => {\n    const uploadedImages = attachments.filter((attachment) => isImageAttachment(attachment));\n    const containers = attachments\n        .filter((attachment) => !isImageAttachment(attachment))\n        .reduce((typeMap, attachment) => {\n        const attachmentType = getAttachmentType(attachment);\n        const Container = CONTAINER_MAP[attachmentType];\n        typeMap[attachmentType].push(React.createElement(Container, { key: `${attachmentType}-${typeMap[attachmentType].length}`, ...rest, attachment: attachment }));\n        return typeMap;\n    }, {\n        audio: [],\n        card: [],\n        file: [],\n        media: [],\n        unsupported: [],\n        // not used in reduce\n        // eslint-disable-next-line sort-keys\n        image: [],\n        // eslint-disable-next-line sort-keys\n        gallery: [],\n        voiceRecording: [],\n    });\n    if (uploadedImages.length > 1) {\n        containers['gallery'] = [\n            React.createElement(GalleryContainer, { key: 'gallery-container', ...rest, attachment: {\n                    images: uploadedImages,\n                    type: 'gallery',\n                } }),\n        ];\n    }\n    else if (uploadedImages.length === 1) {\n        containers['image'] = [\n            React.createElement(ImageContainer, { key: 'image-container', ...rest, attachment: uploadedImages[0] }),\n        ];\n    }\n    return containers;\n};\nconst getAttachmentType = (attachment) => {\n    if (isScrapedContent(attachment)) {\n        return 'card';\n    }\n    else if (isVideoAttachment(attachment, SUPPORTED_VIDEO_FORMATS)) {\n        return 'media';\n    }\n    else if (isAudioAttachment(attachment)) {\n        return 'audio';\n    }\n    else if (isVoiceRecordingAttachment(attachment)) {\n        return 'voiceRecording';\n    }\n    else if (isFileAttachment(attachment, SUPPORTED_VIDEO_FORMATS)) {\n        return 'file';\n    }\n    return 'unsupported';\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}