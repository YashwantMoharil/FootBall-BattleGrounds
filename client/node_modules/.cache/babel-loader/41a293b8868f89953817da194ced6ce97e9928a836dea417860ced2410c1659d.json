{"ast":null,"code":"import React, { useEffect, useState } from 'react';\nimport clsx from 'clsx';\nexport const DragAndDropContainer = ({\n  children,\n  className,\n  draggable,\n  onSetNewOrder\n}) => {\n  const [order, setOrder] = useState([]);\n  const [dragStartIndex, setDragStartIndex] = useState(null);\n  const [dragOverIndex, setDragOverIndex] = useState(null);\n  const [container, setContainer] = useState(null);\n  const moveDirection = dragStartIndex === null || dragOverIndex === null ? undefined : dragStartIndex <= dragOverIndex ? 'down' : 'up';\n  const childrenArray = React.Children.toArray(children);\n  useEffect(() => {\n    setOrder(React.Children.map(children, (_, index) => index) || []);\n  }, [children]);\n  useEffect(() => {\n    if (!container) return;\n    const handleDragStart = e => {\n      const target = e.target;\n      const draggableItem = target.closest('.str-chat__drag-and-drop-container__item');\n      if (e.dataTransfer) {\n        e.dataTransfer.effectAllowed = 'move';\n      }\n      if (draggableItem instanceof HTMLElement) {\n        const index = Array.from(draggableItem.parentElement?.children || []).indexOf(draggableItem);\n        setDragStartIndex(index);\n        e.dataTransfer?.setData('text/plain', index.toString());\n        draggableItem.style.opacity = '0.3';\n      }\n    };\n    const handleDragOver = e => {\n      e.preventDefault();\n      const target = e.target;\n      const draggableItem = target.closest('.str-chat__drag-and-drop-container__item');\n      if (draggableItem instanceof HTMLElement) {\n        const index = Array.from(draggableItem.parentElement?.children || []).indexOf(draggableItem);\n        setDragOverIndex(index);\n      }\n    };\n    const handleDragLeave = () => {\n      setDragOverIndex(null);\n    };\n    const handleDrop = e => {\n      e.preventDefault();\n      const draggedIndex = parseInt(e.dataTransfer?.getData('text/plain') || '-1', 10);\n      const target = e.target;\n      const draggableItem = target.closest('.str-chat__drag-and-drop-container__item');\n      if (draggableItem instanceof HTMLElement) {\n        const dropIndex = Array.from(draggableItem.parentElement?.children || []).indexOf(draggableItem);\n        if (draggedIndex !== -1 && draggedIndex !== dropIndex) {\n          setOrder(prevOrder => {\n            const newOrder = [...prevOrder];\n            const [removed] = newOrder.splice(draggedIndex, 1);\n            newOrder.splice(dropIndex, 0, removed);\n            onSetNewOrder?.(newOrder);\n            return newOrder;\n          });\n        }\n      }\n      setDragStartIndex(null);\n      setDragOverIndex(null);\n    };\n    const handleDragEnd = e => {\n      const target = e.target;\n      if (target instanceof HTMLElement) {\n        target.style.opacity = '';\n      }\n      setDragStartIndex(null);\n      setDragOverIndex(null);\n    };\n    container.addEventListener('dragstart', handleDragStart);\n    container.addEventListener('dragover', handleDragOver);\n    container.addEventListener('dragleave', handleDragLeave);\n    container.addEventListener('drop', handleDrop);\n    container.addEventListener('dragend', handleDragEnd);\n    return () => {\n      container.removeEventListener('dragstart', handleDragStart);\n      container.removeEventListener('dragover', handleDragOver);\n      container.removeEventListener('dragleave', handleDragLeave);\n      container.removeEventListener('drop', handleDrop);\n      container.removeEventListener('dragend', handleDragEnd);\n    };\n  }, [container, onSetNewOrder]);\n  return React.createElement(\"div\", {\n    className: clsx('str-chat__drag-and-drop-container', className),\n    ref: setContainer\n  }, order.map((originalIndex, currentIndex) => {\n    const child = childrenArray[originalIndex];\n    return React.createElement(\"div\", {\n      className: clsx('str-chat__drag-and-drop-container__item', {\n        'str-chat__drag-and-drop-container__item--dragged-over-from-bottom': moveDirection === 'up' && dragOverIndex === currentIndex,\n        'str-chat__drag-and-drop-container__item--dragged-over-from-top': moveDirection === 'down' && dragOverIndex === currentIndex\n      }),\n      draggable: draggable,\n      key: React.isValidElement(child) ? child.key : `draggable-item-${originalIndex}`\n    }, child);\n  }));\n};","map":{"version":3,"names":["React","useEffect","useState","clsx","DragAndDropContainer","children","className","draggable","onSetNewOrder","order","setOrder","dragStartIndex","setDragStartIndex","dragOverIndex","setDragOverIndex","container","setContainer","moveDirection","undefined","childrenArray","Children","toArray","map","_","index","handleDragStart","e","target","draggableItem","closest","dataTransfer","effectAllowed","HTMLElement","Array","from","parentElement","indexOf","setData","toString","style","opacity","handleDragOver","preventDefault","handleDragLeave","handleDrop","draggedIndex","parseInt","getData","dropIndex","prevOrder","newOrder","removed","splice","handleDragEnd","addEventListener","removeEventListener","createElement","ref","originalIndex","currentIndex","child","key","isValidElement"],"sources":["/Users/yashwantmoharil/Documents/Football-Battlegrounds/client/node_modules/stream-chat-react/dist/components/DragAndDrop/DragAndDropContainer.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport clsx from 'clsx';\nexport const DragAndDropContainer = ({ children, className, draggable, onSetNewOrder, }) => {\n    const [order, setOrder] = useState([]);\n    const [dragStartIndex, setDragStartIndex] = useState(null);\n    const [dragOverIndex, setDragOverIndex] = useState(null);\n    const [container, setContainer] = useState(null);\n    const moveDirection = dragStartIndex === null || dragOverIndex === null\n        ? undefined\n        : dragStartIndex <= dragOverIndex\n            ? 'down'\n            : 'up';\n    const childrenArray = React.Children.toArray(children);\n    useEffect(() => {\n        setOrder(React.Children.map(children, (_, index) => index) || []);\n    }, [children]);\n    useEffect(() => {\n        if (!container)\n            return;\n        const handleDragStart = (e) => {\n            const target = e.target;\n            const draggableItem = target.closest('.str-chat__drag-and-drop-container__item');\n            if (e.dataTransfer) {\n                e.dataTransfer.effectAllowed = 'move';\n            }\n            if (draggableItem instanceof HTMLElement) {\n                const index = Array.from(draggableItem.parentElement?.children || []).indexOf(draggableItem);\n                setDragStartIndex(index);\n                e.dataTransfer?.setData('text/plain', index.toString());\n                draggableItem.style.opacity = '0.3';\n            }\n        };\n        const handleDragOver = (e) => {\n            e.preventDefault();\n            const target = e.target;\n            const draggableItem = target.closest('.str-chat__drag-and-drop-container__item');\n            if (draggableItem instanceof HTMLElement) {\n                const index = Array.from(draggableItem.parentElement?.children || []).indexOf(draggableItem);\n                setDragOverIndex(index);\n            }\n        };\n        const handleDragLeave = () => {\n            setDragOverIndex(null);\n        };\n        const handleDrop = (e) => {\n            e.preventDefault();\n            const draggedIndex = parseInt(e.dataTransfer?.getData('text/plain') || '-1', 10);\n            const target = e.target;\n            const draggableItem = target.closest('.str-chat__drag-and-drop-container__item');\n            if (draggableItem instanceof HTMLElement) {\n                const dropIndex = Array.from(draggableItem.parentElement?.children || []).indexOf(draggableItem);\n                if (draggedIndex !== -1 && draggedIndex !== dropIndex) {\n                    setOrder((prevOrder) => {\n                        const newOrder = [...prevOrder];\n                        const [removed] = newOrder.splice(draggedIndex, 1);\n                        newOrder.splice(dropIndex, 0, removed);\n                        onSetNewOrder?.(newOrder);\n                        return newOrder;\n                    });\n                }\n            }\n            setDragStartIndex(null);\n            setDragOverIndex(null);\n        };\n        const handleDragEnd = (e) => {\n            const target = e.target;\n            if (target instanceof HTMLElement) {\n                target.style.opacity = '';\n            }\n            setDragStartIndex(null);\n            setDragOverIndex(null);\n        };\n        container.addEventListener('dragstart', handleDragStart);\n        container.addEventListener('dragover', handleDragOver);\n        container.addEventListener('dragleave', handleDragLeave);\n        container.addEventListener('drop', handleDrop);\n        container.addEventListener('dragend', handleDragEnd);\n        return () => {\n            container.removeEventListener('dragstart', handleDragStart);\n            container.removeEventListener('dragover', handleDragOver);\n            container.removeEventListener('dragleave', handleDragLeave);\n            container.removeEventListener('drop', handleDrop);\n            container.removeEventListener('dragend', handleDragEnd);\n        };\n    }, [container, onSetNewOrder]);\n    return (React.createElement(\"div\", { className: clsx('str-chat__drag-and-drop-container', className), ref: setContainer }, order.map((originalIndex, currentIndex) => {\n        const child = childrenArray[originalIndex];\n        return (React.createElement(\"div\", { className: clsx('str-chat__drag-and-drop-container__item', {\n                'str-chat__drag-and-drop-container__item--dragged-over-from-bottom': moveDirection === 'up' && dragOverIndex === currentIndex,\n                'str-chat__drag-and-drop-container__item--dragged-over-from-top': moveDirection === 'down' && dragOverIndex === currentIndex,\n            }), draggable: draggable, key: React.isValidElement(child) ? child.key : `draggable-item-${originalIndex}` }, child));\n    })));\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}