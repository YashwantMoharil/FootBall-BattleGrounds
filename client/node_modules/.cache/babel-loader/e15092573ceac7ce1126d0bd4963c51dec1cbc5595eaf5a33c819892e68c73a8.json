{"ast":null,"code":"import React, { useLayoutEffect, useRef, useState } from 'react';\nimport ReactPlayer from 'react-player';\nimport clsx from 'clsx';\nimport * as linkify from 'linkifyjs';\nimport { AttachmentActions as DefaultAttachmentActions } from './AttachmentActions';\nimport { Audio as DefaultAudio } from './Audio';\nimport { VoiceRecording as DefaultVoiceRecording } from './VoiceRecording';\nimport { Gallery as DefaultGallery, ImageComponent as DefaultImage } from '../Gallery';\nimport { Card as DefaultCard } from './Card';\nimport { FileAttachment as DefaultFile } from './FileAttachment';\nimport { UnsupportedAttachment as DefaultUnsupportedAttachment } from './UnsupportedAttachment';\nimport { isGalleryAttachmentType, isSvgAttachment } from './utils';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nexport const AttachmentWithinContainer = ({\n  attachment,\n  children,\n  componentType\n}) => {\n  const isGAT = isGalleryAttachmentType(attachment);\n  let extra = '';\n  if (!isGAT) {\n    extra = componentType === 'card' && !attachment?.image_url && !attachment?.thumb_url ? 'no-image' : attachment?.actions?.length ? 'actions' : '';\n  }\n  const classNames = clsx('str-chat__message-attachment str-chat__message-attachment-dynamic-size', {\n    [`str-chat__message-attachment--${componentType}`]: componentType,\n    [`str-chat__message-attachment--${attachment?.type}`]: attachment?.type,\n    [`str-chat__message-attachment--${componentType}--${extra}`]: componentType && extra,\n    'str-chat__message-attachment--svg-image': isSvgAttachment(attachment),\n    'str-chat__message-attachment-with-actions': extra === 'actions'\n  });\n  return React.createElement(\"div\", {\n    className: classNames\n  }, children);\n};\nexport const AttachmentActionsContainer = ({\n  actionHandler,\n  attachment,\n  AttachmentActions = DefaultAttachmentActions\n}) => {\n  if (!attachment.actions?.length) return null;\n  return React.createElement(AttachmentActions, {\n    ...attachment,\n    actionHandler: actionHandler,\n    actions: attachment.actions,\n    id: attachment.localMetadata?.id || '',\n    text: attachment.text || ''\n  });\n};\nfunction getCssDimensionsVariables(url) {\n  const cssVars = {\n    '--original-height': 1000000,\n    '--original-width': 1000000\n  };\n  if (linkify.test(url, 'url')) {\n    const urlParams = new URL(url).searchParams;\n    const oh = Number(urlParams.get('oh'));\n    const ow = Number(urlParams.get('ow'));\n    const originalHeight = oh > 1 ? oh : 1000000;\n    const originalWidth = ow > 1 ? ow : 1000000;\n    cssVars['--original-width'] = originalWidth;\n    cssVars['--original-height'] = originalHeight;\n  }\n  return cssVars;\n}\nexport const GalleryContainer = ({\n  attachment,\n  Gallery = DefaultGallery\n}) => {\n  const imageElements = useRef([]);\n  const {\n    imageAttachmentSizeHandler\n  } = useChannelStateContext();\n  const [attachmentConfigurations, setAttachmentConfigurations] = useState([]);\n  useLayoutEffect(() => {\n    if (imageElements.current && imageElements.current.every(element => !!element) && imageAttachmentSizeHandler) {\n      const newConfigurations = [];\n      imageElements.current.forEach((element, i) => {\n        const config = imageAttachmentSizeHandler(attachment.images[i], element);\n        newConfigurations.push(config);\n      });\n      setAttachmentConfigurations(newConfigurations);\n    }\n  }, [imageElements, imageAttachmentSizeHandler, attachment]);\n  const images = attachment.images.map((image, i) => ({\n    ...image,\n    previewUrl: attachmentConfigurations[i]?.url || 'about:blank',\n    style: getCssDimensionsVariables(attachment.images[i]?.image_url || attachment.images[i]?.thumb_url || '')\n  }));\n  return React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: 'gallery'\n  }, React.createElement(Gallery, {\n    images: images || [],\n    innerRefs: imageElements,\n    key: 'gallery'\n  }));\n};\nexport const ImageContainer = props => {\n  const {\n    attachment,\n    Image = DefaultImage\n  } = props;\n  const componentType = 'image';\n  const imageElement = useRef(null);\n  const {\n    imageAttachmentSizeHandler\n  } = useChannelStateContext();\n  const [attachmentConfiguration, setAttachmentConfiguration] = useState(undefined);\n  useLayoutEffect(() => {\n    if (imageElement.current && imageAttachmentSizeHandler) {\n      const config = imageAttachmentSizeHandler(attachment, imageElement.current);\n      setAttachmentConfiguration(config);\n    }\n  }, [imageElement, imageAttachmentSizeHandler, attachment]);\n  const imageConfig = {\n    ...attachment,\n    previewUrl: attachmentConfiguration?.url || 'about:blank',\n    style: getCssDimensionsVariables(attachment.image_url || attachment.thumb_url || '')\n  };\n  if (attachment.actions && attachment.actions.length) {\n    return React.createElement(AttachmentWithinContainer, {\n      attachment: attachment,\n      componentType: componentType\n    }, React.createElement(\"div\", {\n      className: 'str-chat__attachment'\n    }, React.createElement(Image, {\n      ...imageConfig,\n      innerRef: imageElement\n    }), React.createElement(AttachmentActionsContainer, {\n      ...props\n    })));\n  }\n  return React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: componentType\n  }, React.createElement(Image, {\n    ...imageConfig,\n    innerRef: imageElement\n  }));\n};\nexport const CardContainer = props => {\n  const {\n    attachment,\n    Card = DefaultCard\n  } = props;\n  const componentType = 'card';\n  if (attachment.actions && attachment.actions.length) {\n    return React.createElement(AttachmentWithinContainer, {\n      attachment: attachment,\n      componentType: componentType\n    }, React.createElement(\"div\", {\n      className: 'str-chat__attachment'\n    }, React.createElement(Card, {\n      ...attachment\n    }), React.createElement(AttachmentActionsContainer, {\n      ...props\n    })));\n  }\n  return React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: componentType\n  }, React.createElement(Card, {\n    ...attachment\n  }));\n};\nexport const FileContainer = ({\n  attachment,\n  File = DefaultFile\n}) => {\n  if (!attachment.asset_url) return null;\n  return React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: 'file'\n  }, React.createElement(File, {\n    attachment: attachment\n  }));\n};\nexport const AudioContainer = ({\n  attachment,\n  Audio = DefaultAudio\n}) => React.createElement(AttachmentWithinContainer, {\n  attachment: attachment,\n  componentType: 'audio'\n}, React.createElement(\"div\", {\n  className: 'str-chat__attachment'\n}, React.createElement(Audio, {\n  og: attachment\n})));\nexport const VoiceRecordingContainer = ({\n  attachment,\n  isQuoted,\n  VoiceRecording = DefaultVoiceRecording\n}) => React.createElement(AttachmentWithinContainer, {\n  attachment: attachment,\n  componentType: 'voiceRecording'\n}, React.createElement(\"div\", {\n  className: 'str-chat__attachment'\n}, React.createElement(VoiceRecording, {\n  attachment: attachment,\n  isQuoted: isQuoted\n})));\nexport const MediaContainer = props => {\n  const {\n    attachment,\n    Media = ReactPlayer\n  } = props;\n  const componentType = 'media';\n  const {\n    shouldGenerateVideoThumbnail,\n    videoAttachmentSizeHandler\n  } = useChannelStateContext();\n  const videoElement = useRef(null);\n  const [attachmentConfiguration, setAttachmentConfiguration] = useState();\n  useLayoutEffect(() => {\n    if (videoElement.current && videoAttachmentSizeHandler) {\n      const config = videoAttachmentSizeHandler(attachment, videoElement.current, shouldGenerateVideoThumbnail);\n      setAttachmentConfiguration(config);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [videoElement, videoAttachmentSizeHandler, attachment]);\n  const content = React.createElement(\"div\", {\n    className: 'str-chat__player-wrapper',\n    \"data-testid\": 'video-wrapper',\n    ref: videoElement,\n    style: getCssDimensionsVariables(attachment.thumb_url || '')\n  }, React.createElement(Media, {\n    className: 'react-player',\n    config: {\n      file: {\n        attributes: {\n          poster: attachmentConfiguration?.thumbUrl\n        }\n      }\n    },\n    controls: true,\n    height: '100%',\n    url: attachmentConfiguration?.url,\n    width: '100%'\n  }));\n  return attachment.actions?.length ? React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: componentType\n  }, React.createElement(\"div\", {\n    className: 'str-chat__attachment'\n  }, content, React.createElement(AttachmentActionsContainer, {\n    ...props\n  }))) : React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: componentType\n  }, content);\n};\nexport const UnsupportedAttachmentContainer = ({\n  attachment,\n  UnsupportedAttachment = DefaultUnsupportedAttachment\n}) => React.createElement(React.Fragment, null, React.createElement(UnsupportedAttachment, {\n  attachment: attachment\n}));","map":{"version":3,"names":["React","useLayoutEffect","useRef","useState","ReactPlayer","clsx","linkify","AttachmentActions","DefaultAttachmentActions","Audio","DefaultAudio","VoiceRecording","DefaultVoiceRecording","Gallery","DefaultGallery","ImageComponent","DefaultImage","Card","DefaultCard","FileAttachment","DefaultFile","UnsupportedAttachment","DefaultUnsupportedAttachment","isGalleryAttachmentType","isSvgAttachment","useChannelStateContext","AttachmentWithinContainer","attachment","children","componentType","isGAT","extra","image_url","thumb_url","actions","length","classNames","type","createElement","className","AttachmentActionsContainer","actionHandler","id","localMetadata","text","getCssDimensionsVariables","url","cssVars","test","urlParams","URL","searchParams","oh","Number","get","ow","originalHeight","originalWidth","GalleryContainer","imageElements","imageAttachmentSizeHandler","attachmentConfigurations","setAttachmentConfigurations","current","every","element","newConfigurations","forEach","i","config","images","push","map","image","previewUrl","style","innerRefs","key","ImageContainer","props","Image","imageElement","attachmentConfiguration","setAttachmentConfiguration","undefined","imageConfig","innerRef","CardContainer","FileContainer","File","asset_url","AudioContainer","og","VoiceRecordingContainer","isQuoted","MediaContainer","Media","shouldGenerateVideoThumbnail","videoAttachmentSizeHandler","videoElement","content","ref","file","attributes","poster","thumbUrl","controls","height","width","UnsupportedAttachmentContainer","Fragment"],"sources":["/Users/yashwantmoharil/Documents/Football-Battlegrounds/client/node_modules/stream-chat-react/dist/components/Attachment/AttachmentContainer.js"],"sourcesContent":["import React, { useLayoutEffect, useRef, useState } from 'react';\nimport ReactPlayer from 'react-player';\nimport clsx from 'clsx';\nimport * as linkify from 'linkifyjs';\nimport { AttachmentActions as DefaultAttachmentActions } from './AttachmentActions';\nimport { Audio as DefaultAudio } from './Audio';\nimport { VoiceRecording as DefaultVoiceRecording } from './VoiceRecording';\nimport { Gallery as DefaultGallery, ImageComponent as DefaultImage } from '../Gallery';\nimport { Card as DefaultCard } from './Card';\nimport { FileAttachment as DefaultFile } from './FileAttachment';\nimport { UnsupportedAttachment as DefaultUnsupportedAttachment } from './UnsupportedAttachment';\nimport { isGalleryAttachmentType, isSvgAttachment } from './utils';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nexport const AttachmentWithinContainer = ({ attachment, children, componentType, }) => {\n    const isGAT = isGalleryAttachmentType(attachment);\n    let extra = '';\n    if (!isGAT) {\n        extra =\n            componentType === 'card' && !attachment?.image_url && !attachment?.thumb_url\n                ? 'no-image'\n                : attachment?.actions?.length\n                    ? 'actions'\n                    : '';\n    }\n    const classNames = clsx('str-chat__message-attachment str-chat__message-attachment-dynamic-size', {\n        [`str-chat__message-attachment--${componentType}`]: componentType,\n        [`str-chat__message-attachment--${attachment?.type}`]: attachment?.type,\n        [`str-chat__message-attachment--${componentType}--${extra}`]: componentType && extra,\n        'str-chat__message-attachment--svg-image': isSvgAttachment(attachment),\n        'str-chat__message-attachment-with-actions': extra === 'actions',\n    });\n    return React.createElement(\"div\", { className: classNames }, children);\n};\nexport const AttachmentActionsContainer = ({ actionHandler, attachment, AttachmentActions = DefaultAttachmentActions, }) => {\n    if (!attachment.actions?.length)\n        return null;\n    return (React.createElement(AttachmentActions, { ...attachment, actionHandler: actionHandler, actions: attachment.actions, id: attachment.localMetadata?.id || '', text: attachment.text || '' }));\n};\nfunction getCssDimensionsVariables(url) {\n    const cssVars = {\n        '--original-height': 1000000,\n        '--original-width': 1000000,\n    };\n    if (linkify.test(url, 'url')) {\n        const urlParams = new URL(url).searchParams;\n        const oh = Number(urlParams.get('oh'));\n        const ow = Number(urlParams.get('ow'));\n        const originalHeight = oh > 1 ? oh : 1000000;\n        const originalWidth = ow > 1 ? ow : 1000000;\n        cssVars['--original-width'] = originalWidth;\n        cssVars['--original-height'] = originalHeight;\n    }\n    return cssVars;\n}\nexport const GalleryContainer = ({ attachment, Gallery = DefaultGallery, }) => {\n    const imageElements = useRef([]);\n    const { imageAttachmentSizeHandler } = useChannelStateContext();\n    const [attachmentConfigurations, setAttachmentConfigurations] = useState([]);\n    useLayoutEffect(() => {\n        if (imageElements.current &&\n            imageElements.current.every((element) => !!element) &&\n            imageAttachmentSizeHandler) {\n            const newConfigurations = [];\n            imageElements.current.forEach((element, i) => {\n                const config = imageAttachmentSizeHandler(attachment.images[i], element);\n                newConfigurations.push(config);\n            });\n            setAttachmentConfigurations(newConfigurations);\n        }\n    }, [imageElements, imageAttachmentSizeHandler, attachment]);\n    const images = attachment.images.map((image, i) => ({\n        ...image,\n        previewUrl: attachmentConfigurations[i]?.url || 'about:blank',\n        style: getCssDimensionsVariables(attachment.images[i]?.image_url || attachment.images[i]?.thumb_url || ''),\n    }));\n    return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: 'gallery' },\n        React.createElement(Gallery, { images: images || [], innerRefs: imageElements, key: 'gallery' })));\n};\nexport const ImageContainer = (props) => {\n    const { attachment, Image = DefaultImage } = props;\n    const componentType = 'image';\n    const imageElement = useRef(null);\n    const { imageAttachmentSizeHandler } = useChannelStateContext();\n    const [attachmentConfiguration, setAttachmentConfiguration] = useState(undefined);\n    useLayoutEffect(() => {\n        if (imageElement.current && imageAttachmentSizeHandler) {\n            const config = imageAttachmentSizeHandler(attachment, imageElement.current);\n            setAttachmentConfiguration(config);\n        }\n    }, [imageElement, imageAttachmentSizeHandler, attachment]);\n    const imageConfig = {\n        ...attachment,\n        previewUrl: attachmentConfiguration?.url || 'about:blank',\n        style: getCssDimensionsVariables(attachment.image_url || attachment.thumb_url || ''),\n    };\n    if (attachment.actions && attachment.actions.length) {\n        return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType },\n            React.createElement(\"div\", { className: 'str-chat__attachment' },\n                React.createElement(Image, { ...imageConfig, innerRef: imageElement }),\n                React.createElement(AttachmentActionsContainer, { ...props }))));\n    }\n    return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType },\n        React.createElement(Image, { ...imageConfig, innerRef: imageElement })));\n};\nexport const CardContainer = (props) => {\n    const { attachment, Card = DefaultCard } = props;\n    const componentType = 'card';\n    if (attachment.actions && attachment.actions.length) {\n        return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType },\n            React.createElement(\"div\", { className: 'str-chat__attachment' },\n                React.createElement(Card, { ...attachment }),\n                React.createElement(AttachmentActionsContainer, { ...props }))));\n    }\n    return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType },\n        React.createElement(Card, { ...attachment })));\n};\nexport const FileContainer = ({ attachment, File = DefaultFile, }) => {\n    if (!attachment.asset_url)\n        return null;\n    return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: 'file' },\n        React.createElement(File, { attachment: attachment })));\n};\nexport const AudioContainer = ({ attachment, Audio = DefaultAudio, }) => (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: 'audio' },\n    React.createElement(\"div\", { className: 'str-chat__attachment' },\n        React.createElement(Audio, { og: attachment }))));\nexport const VoiceRecordingContainer = ({ attachment, isQuoted, VoiceRecording = DefaultVoiceRecording, }) => (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: 'voiceRecording' },\n    React.createElement(\"div\", { className: 'str-chat__attachment' },\n        React.createElement(VoiceRecording, { attachment: attachment, isQuoted: isQuoted }))));\nexport const MediaContainer = (props) => {\n    const { attachment, Media = ReactPlayer } = props;\n    const componentType = 'media';\n    const { shouldGenerateVideoThumbnail, videoAttachmentSizeHandler } = useChannelStateContext();\n    const videoElement = useRef(null);\n    const [attachmentConfiguration, setAttachmentConfiguration] = useState();\n    useLayoutEffect(() => {\n        if (videoElement.current && videoAttachmentSizeHandler) {\n            const config = videoAttachmentSizeHandler(attachment, videoElement.current, shouldGenerateVideoThumbnail);\n            setAttachmentConfiguration(config);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [videoElement, videoAttachmentSizeHandler, attachment]);\n    const content = (React.createElement(\"div\", { className: 'str-chat__player-wrapper', \"data-testid\": 'video-wrapper', ref: videoElement, style: getCssDimensionsVariables(attachment.thumb_url || '') },\n        React.createElement(Media, { className: 'react-player', config: { file: { attributes: { poster: attachmentConfiguration?.thumbUrl } } }, controls: true, height: '100%', url: attachmentConfiguration?.url, width: '100%' })));\n    return attachment.actions?.length ? (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType },\n        React.createElement(\"div\", { className: 'str-chat__attachment' },\n            content,\n            React.createElement(AttachmentActionsContainer, { ...props })))) : (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType }, content));\n};\nexport const UnsupportedAttachmentContainer = ({ attachment, UnsupportedAttachment = DefaultUnsupportedAttachment, }) => (React.createElement(React.Fragment, null,\n    React.createElement(UnsupportedAttachment, { attachment: attachment })));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}