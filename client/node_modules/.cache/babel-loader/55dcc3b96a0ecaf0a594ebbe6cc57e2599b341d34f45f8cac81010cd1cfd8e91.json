{"ast":null,"code":"import clsx from 'clsx';\nimport React, { useEffect, useState } from 'react';\nimport { FocusScope } from '@react-aria/focus';\nimport { usePopper } from 'react-popper';\nimport { DialogPortalEntry } from './DialogPortal';\nimport { useDialog, useDialogIsOpen } from './hooks';\nexport function useDialogAnchor({\n  open,\n  placement,\n  referenceElement\n}) {\n  const [popperElement, setPopperElement] = useState(null);\n  const {\n    attributes,\n    styles,\n    update\n  } = usePopper(referenceElement, popperElement, {\n    modifiers: [{\n      name: 'eventListeners',\n      options: {\n        // It's not safe to update popper position on resize and scroll, since popper's\n        // reference element might not be visible at the time.\n        resize: false,\n        scroll: false\n      }\n    }],\n    placement\n  });\n  useEffect(() => {\n    if (open && popperElement) {\n      // Since the popper's reference element might not be (and usually is not) visible\n      // all the time, it's safer to force popper update before showing it.\n      // update is non-null only if popperElement is non-null\n      update?.();\n    }\n  }, [open, popperElement, update]);\n  if (popperElement && !open) {\n    setPopperElement(null);\n  }\n  return {\n    attributes,\n    setPopperElement,\n    styles\n  };\n}\nexport const DialogAnchor = ({\n  children,\n  className,\n  focus = true,\n  id,\n  placement = 'auto',\n  referenceElement = null,\n  tabIndex,\n  trapFocus,\n  ...restDivProps\n}) => {\n  const dialog = useDialog({\n    id\n  });\n  const open = useDialogIsOpen(id);\n  const {\n    attributes,\n    setPopperElement,\n    styles\n  } = useDialogAnchor({\n    open,\n    placement,\n    referenceElement\n  });\n  useEffect(() => {\n    if (!open) return;\n    const hideOnEscape = event => {\n      if (event.key !== 'Escape') return;\n      dialog?.close();\n    };\n    document.addEventListener('keyup', hideOnEscape);\n    return () => {\n      document.removeEventListener('keyup', hideOnEscape);\n    };\n  }, [dialog, open]);\n  // prevent rendering the dialog contents if the dialog should not be open / shown\n  if (!open) {\n    return null;\n  }\n  return React.createElement(DialogPortalEntry, {\n    dialogId: id\n  }, React.createElement(FocusScope, {\n    autoFocus: focus,\n    contain: trapFocus,\n    restoreFocus: true\n  }, React.createElement(\"div\", {\n    ...restDivProps,\n    ...attributes.popper,\n    className: clsx('str-chat__dialog-contents', className),\n    \"data-testid\": 'str-chat__dialog-contents',\n    ref: setPopperElement,\n    style: styles.popper,\n    tabIndex: typeof tabIndex !== 'undefined' ? tabIndex : 0\n  }, children)));\n};","map":{"version":3,"names":["clsx","React","useEffect","useState","FocusScope","usePopper","DialogPortalEntry","useDialog","useDialogIsOpen","useDialogAnchor","open","placement","referenceElement","popperElement","setPopperElement","attributes","styles","update","modifiers","name","options","resize","scroll","DialogAnchor","children","className","focus","id","tabIndex","trapFocus","restDivProps","dialog","hideOnEscape","event","key","close","document","addEventListener","removeEventListener","createElement","dialogId","autoFocus","contain","restoreFocus","popper","ref","style"],"sources":["/Users/yashwantmoharil/Desktop/football-battlegrounds/client/node_modules/stream-chat-react/dist/components/Dialog/DialogAnchor.js"],"sourcesContent":["import clsx from 'clsx';\nimport React, { useEffect, useState } from 'react';\nimport { FocusScope } from '@react-aria/focus';\nimport { usePopper } from 'react-popper';\nimport { DialogPortalEntry } from './DialogPortal';\nimport { useDialog, useDialogIsOpen } from './hooks';\nexport function useDialogAnchor({ open, placement, referenceElement, }) {\n    const [popperElement, setPopperElement] = useState(null);\n    const { attributes, styles, update } = usePopper(referenceElement, popperElement, {\n        modifiers: [\n            {\n                name: 'eventListeners',\n                options: {\n                    // It's not safe to update popper position on resize and scroll, since popper's\n                    // reference element might not be visible at the time.\n                    resize: false,\n                    scroll: false,\n                },\n            },\n        ],\n        placement,\n    });\n    useEffect(() => {\n        if (open && popperElement) {\n            // Since the popper's reference element might not be (and usually is not) visible\n            // all the time, it's safer to force popper update before showing it.\n            // update is non-null only if popperElement is non-null\n            update?.();\n        }\n    }, [open, popperElement, update]);\n    if (popperElement && !open) {\n        setPopperElement(null);\n    }\n    return {\n        attributes,\n        setPopperElement,\n        styles,\n    };\n}\nexport const DialogAnchor = ({ children, className, focus = true, id, placement = 'auto', referenceElement = null, tabIndex, trapFocus, ...restDivProps }) => {\n    const dialog = useDialog({ id });\n    const open = useDialogIsOpen(id);\n    const { attributes, setPopperElement, styles } = useDialogAnchor({\n        open,\n        placement,\n        referenceElement,\n    });\n    useEffect(() => {\n        if (!open)\n            return;\n        const hideOnEscape = (event) => {\n            if (event.key !== 'Escape')\n                return;\n            dialog?.close();\n        };\n        document.addEventListener('keyup', hideOnEscape);\n        return () => {\n            document.removeEventListener('keyup', hideOnEscape);\n        };\n    }, [dialog, open]);\n    // prevent rendering the dialog contents if the dialog should not be open / shown\n    if (!open) {\n        return null;\n    }\n    return (React.createElement(DialogPortalEntry, { dialogId: id },\n        React.createElement(FocusScope, { autoFocus: focus, contain: trapFocus, restoreFocus: true },\n            React.createElement(\"div\", { ...restDivProps, ...attributes.popper, className: clsx('str-chat__dialog-contents', className), \"data-testid\": 'str-chat__dialog-contents', ref: setPopperElement, style: styles.popper, tabIndex: typeof tabIndex !== 'undefined' ? tabIndex : 0 }, children))));\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}