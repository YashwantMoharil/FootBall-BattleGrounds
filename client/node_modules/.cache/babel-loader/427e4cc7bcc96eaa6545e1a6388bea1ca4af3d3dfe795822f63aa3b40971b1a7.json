{"ast":null,"code":"import { isUserMuted, validateAndGetMessage } from '../utils';\nimport { useChannelStateContext } from '../../../context/ChannelStateContext';\nimport { useChatContext } from '../../../context/ChatContext';\nimport { useTranslationContext } from '../../../context/TranslationContext';\nexport const missingUseMuteHandlerParamsWarning = 'useMuteHandler was called but it is missing one or more necessary parameter.';\nexport const useMuteHandler = (message, notifications = {}) => {\n  const {\n    mutes\n  } = useChannelStateContext('useMuteHandler');\n  const {\n    client\n  } = useChatContext('useMuteHandler');\n  const {\n    t\n  } = useTranslationContext('useMuteHandler');\n  return async event => {\n    event.preventDefault();\n    const {\n      getErrorNotification,\n      getSuccessNotification,\n      notify\n    } = notifications;\n    if (!t || !message?.user || !notify || !client) {\n      console.warn(missingUseMuteHandlerParamsWarning);\n      return;\n    }\n    if (!isUserMuted(message, mutes)) {\n      try {\n        await client.muteUser(message.user.id);\n        const successMessage = getSuccessNotification && validateAndGetMessage(getSuccessNotification, [message.user]);\n        notify(successMessage || t(`{{ user }} has been muted`, {\n          user: message.user.name || message.user.id\n        }), 'success');\n      } catch (e) {\n        const errorMessage = getErrorNotification && validateAndGetMessage(getErrorNotification, [message.user]);\n        notify(errorMessage || t('Error muting a user ...'), 'error');\n      }\n    } else {\n      try {\n        await client.unmuteUser(message.user.id);\n        const fallbackMessage = t(`{{ user }} has been unmuted`, {\n          user: message.user.name || message.user.id\n        });\n        const successMessage = getSuccessNotification && validateAndGetMessage(getSuccessNotification, [message.user]) || fallbackMessage;\n        if (typeof successMessage === 'string') {\n          notify(successMessage, 'success');\n        }\n      } catch (e) {\n        const errorMessage = getErrorNotification && validateAndGetMessage(getErrorNotification, [message.user]) || t('Error unmuting a user ...');\n        if (typeof errorMessage === 'string') {\n          notify(errorMessage, 'error');\n        }\n      }\n    }\n  };\n};","map":{"version":3,"names":["isUserMuted","validateAndGetMessage","useChannelStateContext","useChatContext","useTranslationContext","missingUseMuteHandlerParamsWarning","useMuteHandler","message","notifications","mutes","client","t","event","preventDefault","getErrorNotification","getSuccessNotification","notify","user","console","warn","muteUser","id","successMessage","name","e","errorMessage","unmuteUser","fallbackMessage"],"sources":["/Users/yashwantmoharil/Desktop/football-battlegrounds/client/node_modules/stream-chat-react/dist/components/Message/hooks/useMuteHandler.js"],"sourcesContent":["import { isUserMuted, validateAndGetMessage } from '../utils';\nimport { useChannelStateContext } from '../../../context/ChannelStateContext';\nimport { useChatContext } from '../../../context/ChatContext';\nimport { useTranslationContext } from '../../../context/TranslationContext';\nexport const missingUseMuteHandlerParamsWarning = 'useMuteHandler was called but it is missing one or more necessary parameter.';\nexport const useMuteHandler = (message, notifications = {}) => {\n    const { mutes } = useChannelStateContext('useMuteHandler');\n    const { client } = useChatContext('useMuteHandler');\n    const { t } = useTranslationContext('useMuteHandler');\n    return async (event) => {\n        event.preventDefault();\n        const { getErrorNotification, getSuccessNotification, notify } = notifications;\n        if (!t || !message?.user || !notify || !client) {\n            console.warn(missingUseMuteHandlerParamsWarning);\n            return;\n        }\n        if (!isUserMuted(message, mutes)) {\n            try {\n                await client.muteUser(message.user.id);\n                const successMessage = getSuccessNotification &&\n                    validateAndGetMessage(getSuccessNotification, [message.user]);\n                notify(successMessage ||\n                    t(`{{ user }} has been muted`, {\n                        user: message.user.name || message.user.id,\n                    }), 'success');\n            }\n            catch (e) {\n                const errorMessage = getErrorNotification &&\n                    validateAndGetMessage(getErrorNotification, [message.user]);\n                notify(errorMessage || t('Error muting a user ...'), 'error');\n            }\n        }\n        else {\n            try {\n                await client.unmuteUser(message.user.id);\n                const fallbackMessage = t(`{{ user }} has been unmuted`, {\n                    user: message.user.name || message.user.id,\n                });\n                const successMessage = (getSuccessNotification &&\n                    validateAndGetMessage(getSuccessNotification, [message.user])) ||\n                    fallbackMessage;\n                if (typeof successMessage === 'string') {\n                    notify(successMessage, 'success');\n                }\n            }\n            catch (e) {\n                const errorMessage = (getErrorNotification &&\n                    validateAndGetMessage(getErrorNotification, [message.user])) ||\n                    t('Error unmuting a user ...');\n                if (typeof errorMessage === 'string') {\n                    notify(errorMessage, 'error');\n                }\n            }\n        }\n    };\n};\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,qBAAqB,QAAQ,UAAU;AAC7D,SAASC,sBAAsB,QAAQ,sCAAsC;AAC7E,SAASC,cAAc,QAAQ,8BAA8B;AAC7D,SAASC,qBAAqB,QAAQ,qCAAqC;AAC3E,OAAO,MAAMC,kCAAkC,GAAG,8EAA8E;AAChI,OAAO,MAAMC,cAAc,GAAGA,CAACC,OAAO,EAAEC,aAAa,GAAG,CAAC,CAAC,KAAK;EAC3D,MAAM;IAAEC;EAAM,CAAC,GAAGP,sBAAsB,CAAC,gBAAgB,CAAC;EAC1D,MAAM;IAAEQ;EAAO,CAAC,GAAGP,cAAc,CAAC,gBAAgB,CAAC;EACnD,MAAM;IAAEQ;EAAE,CAAC,GAAGP,qBAAqB,CAAC,gBAAgB,CAAC;EACrD,OAAO,MAAOQ,KAAK,IAAK;IACpBA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtB,MAAM;MAAEC,oBAAoB;MAAEC,sBAAsB;MAAEC;IAAO,CAAC,GAAGR,aAAa;IAC9E,IAAI,CAACG,CAAC,IAAI,CAACJ,OAAO,EAAEU,IAAI,IAAI,CAACD,MAAM,IAAI,CAACN,MAAM,EAAE;MAC5CQ,OAAO,CAACC,IAAI,CAACd,kCAAkC,CAAC;MAChD;IACJ;IACA,IAAI,CAACL,WAAW,CAACO,OAAO,EAAEE,KAAK,CAAC,EAAE;MAC9B,IAAI;QACA,MAAMC,MAAM,CAACU,QAAQ,CAACb,OAAO,CAACU,IAAI,CAACI,EAAE,CAAC;QACtC,MAAMC,cAAc,GAAGP,sBAAsB,IACzCd,qBAAqB,CAACc,sBAAsB,EAAE,CAACR,OAAO,CAACU,IAAI,CAAC,CAAC;QACjED,MAAM,CAACM,cAAc,IACjBX,CAAC,CAAC,2BAA2B,EAAE;UAC3BM,IAAI,EAAEV,OAAO,CAACU,IAAI,CAACM,IAAI,IAAIhB,OAAO,CAACU,IAAI,CAACI;QAC5C,CAAC,CAAC,EAAE,SAAS,CAAC;MACtB,CAAC,CACD,OAAOG,CAAC,EAAE;QACN,MAAMC,YAAY,GAAGX,oBAAoB,IACrCb,qBAAqB,CAACa,oBAAoB,EAAE,CAACP,OAAO,CAACU,IAAI,CAAC,CAAC;QAC/DD,MAAM,CAACS,YAAY,IAAId,CAAC,CAAC,yBAAyB,CAAC,EAAE,OAAO,CAAC;MACjE;IACJ,CAAC,MACI;MACD,IAAI;QACA,MAAMD,MAAM,CAACgB,UAAU,CAACnB,OAAO,CAACU,IAAI,CAACI,EAAE,CAAC;QACxC,MAAMM,eAAe,GAAGhB,CAAC,CAAC,6BAA6B,EAAE;UACrDM,IAAI,EAAEV,OAAO,CAACU,IAAI,CAACM,IAAI,IAAIhB,OAAO,CAACU,IAAI,CAACI;QAC5C,CAAC,CAAC;QACF,MAAMC,cAAc,GAAIP,sBAAsB,IAC1Cd,qBAAqB,CAACc,sBAAsB,EAAE,CAACR,OAAO,CAACU,IAAI,CAAC,CAAC,IAC7DU,eAAe;QACnB,IAAI,OAAOL,cAAc,KAAK,QAAQ,EAAE;UACpCN,MAAM,CAACM,cAAc,EAAE,SAAS,CAAC;QACrC;MACJ,CAAC,CACD,OAAOE,CAAC,EAAE;QACN,MAAMC,YAAY,GAAIX,oBAAoB,IACtCb,qBAAqB,CAACa,oBAAoB,EAAE,CAACP,OAAO,CAACU,IAAI,CAAC,CAAC,IAC3DN,CAAC,CAAC,2BAA2B,CAAC;QAClC,IAAI,OAAOc,YAAY,KAAK,QAAQ,EAAE;UAClCT,MAAM,CAACS,YAAY,EAAE,OAAO,CAAC;QACjC;MACJ;IACJ;EACJ,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}