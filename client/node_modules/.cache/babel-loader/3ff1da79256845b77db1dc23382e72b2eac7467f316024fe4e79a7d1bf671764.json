{"ast":null,"code":"import { useCallback } from 'react';\nimport { useManagePollVotesRealtime } from './useManagePollVotesRealtime';\nimport { useCursorPaginator } from '../../InfiniteScrollPaginator/hooks/useCursorPaginator';\nimport { usePollContext } from '../../../context';\nimport { useStateStore } from '../../../store';\nconst paginationStateSelector = state => [state.error, state.hasNextPage, state.loading];\nexport const usePollAnswerPagination = ({\n  paginationParams\n} = {}) => {\n  const {\n    poll\n  } = usePollContext();\n  const paginationFn = useCallback(async next => {\n    const {\n      next: newNext,\n      votes\n    } = await poll.queryAnswers({\n      filter: paginationParams?.filter,\n      options: !next ? paginationParams?.options : {\n        ...paginationParams?.options,\n        next\n      },\n      sort: {\n        created_at: -1,\n        ...paginationParams?.sort\n      }\n    });\n    return {\n      items: votes,\n      next: newNext\n    };\n  }, [paginationParams, poll]);\n  const {\n    cursorPaginatorState,\n    loadMore\n  } = useCursorPaginator(paginationFn, true);\n  const answers = useManagePollVotesRealtime('answer', cursorPaginatorState);\n  const [error, hasNextPage, loading] = useStateStore(cursorPaginatorState, paginationStateSelector);\n  return {\n    answers,\n    error,\n    hasNextPage,\n    loading,\n    loadMore\n  };\n};","map":{"version":3,"names":["useCallback","useManagePollVotesRealtime","useCursorPaginator","usePollContext","useStateStore","paginationStateSelector","state","error","hasNextPage","loading","usePollAnswerPagination","paginationParams","poll","paginationFn","next","newNext","votes","queryAnswers","filter","options","sort","created_at","items","cursorPaginatorState","loadMore","answers"],"sources":["/Users/yashwantmoharil/Desktop/football-battlegrounds/client/node_modules/stream-chat-react/dist/components/Poll/hooks/usePollAnswerPagination.js"],"sourcesContent":["import { useCallback } from 'react';\nimport { useManagePollVotesRealtime } from './useManagePollVotesRealtime';\nimport { useCursorPaginator } from '../../InfiniteScrollPaginator/hooks/useCursorPaginator';\nimport { usePollContext } from '../../../context';\nimport { useStateStore } from '../../../store';\nconst paginationStateSelector = (state) => [\n    state.error,\n    state.hasNextPage,\n    state.loading,\n];\nexport const usePollAnswerPagination = ({ paginationParams, } = {}) => {\n    const { poll } = usePollContext();\n    const paginationFn = useCallback(async (next) => {\n        const { next: newNext, votes } = await poll.queryAnswers({\n            filter: paginationParams?.filter,\n            options: !next\n                ? paginationParams?.options\n                : { ...paginationParams?.options, next },\n            sort: { created_at: -1, ...paginationParams?.sort },\n        });\n        return { items: votes, next: newNext };\n    }, [paginationParams, poll]);\n    const { cursorPaginatorState, loadMore } = useCursorPaginator(paginationFn, true);\n    const answers = useManagePollVotesRealtime('answer', cursorPaginatorState);\n    const [error, hasNextPage, loading] = useStateStore(cursorPaginatorState, paginationStateSelector);\n    return {\n        answers,\n        error,\n        hasNextPage,\n        loading,\n        loadMore,\n    };\n};\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,0BAA0B,QAAQ,8BAA8B;AACzE,SAASC,kBAAkB,QAAQ,wDAAwD;AAC3F,SAASC,cAAc,QAAQ,kBAAkB;AACjD,SAASC,aAAa,QAAQ,gBAAgB;AAC9C,MAAMC,uBAAuB,GAAIC,KAAK,IAAK,CACvCA,KAAK,CAACC,KAAK,EACXD,KAAK,CAACE,WAAW,EACjBF,KAAK,CAACG,OAAO,CAChB;AACD,OAAO,MAAMC,uBAAuB,GAAGA,CAAC;EAAEC;AAAkB,CAAC,GAAG,CAAC,CAAC,KAAK;EACnE,MAAM;IAAEC;EAAK,CAAC,GAAGT,cAAc,CAAC,CAAC;EACjC,MAAMU,YAAY,GAAGb,WAAW,CAAC,MAAOc,IAAI,IAAK;IAC7C,MAAM;MAAEA,IAAI,EAAEC,OAAO;MAAEC;IAAM,CAAC,GAAG,MAAMJ,IAAI,CAACK,YAAY,CAAC;MACrDC,MAAM,EAAEP,gBAAgB,EAAEO,MAAM;MAChCC,OAAO,EAAE,CAACL,IAAI,GACRH,gBAAgB,EAAEQ,OAAO,GACzB;QAAE,GAAGR,gBAAgB,EAAEQ,OAAO;QAAEL;MAAK,CAAC;MAC5CM,IAAI,EAAE;QAAEC,UAAU,EAAE,CAAC,CAAC;QAAE,GAAGV,gBAAgB,EAAES;MAAK;IACtD,CAAC,CAAC;IACF,OAAO;MAAEE,KAAK,EAAEN,KAAK;MAAEF,IAAI,EAAEC;IAAQ,CAAC;EAC1C,CAAC,EAAE,CAACJ,gBAAgB,EAAEC,IAAI,CAAC,CAAC;EAC5B,MAAM;IAAEW,oBAAoB;IAAEC;EAAS,CAAC,GAAGtB,kBAAkB,CAACW,YAAY,EAAE,IAAI,CAAC;EACjF,MAAMY,OAAO,GAAGxB,0BAA0B,CAAC,QAAQ,EAAEsB,oBAAoB,CAAC;EAC1E,MAAM,CAAChB,KAAK,EAAEC,WAAW,EAAEC,OAAO,CAAC,GAAGL,aAAa,CAACmB,oBAAoB,EAAElB,uBAAuB,CAAC;EAClG,OAAO;IACHoB,OAAO;IACPlB,KAAK;IACLC,WAAW;IACXC,OAAO;IACPe;EACJ,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}