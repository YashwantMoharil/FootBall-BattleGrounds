{"ast":null,"code":"import { useEffect } from 'react';\nimport { useChatContext } from '../../../context/ChatContext';\nexport const useChannelUpdatedListener = (setChannels, customHandler, forceUpdate) => {\n  const {\n    client\n  } = useChatContext('useChannelUpdatedListener');\n  useEffect(() => {\n    const handleEvent = event => {\n      setChannels(channels => {\n        const channelIndex = channels.findIndex(channel => channel.cid === event.channel?.cid);\n        if (channelIndex > -1 && event.channel) {\n          const newChannels = channels;\n          newChannels[channelIndex].data = {\n            ...event.channel,\n            hidden: event.channel?.hidden ?? newChannels[channelIndex].data?.hidden,\n            own_capabilities: event.channel?.own_capabilities ?? newChannels[channelIndex].data?.own_capabilities\n          };\n          return [...newChannels];\n        }\n        return channels;\n      });\n      if (forceUpdate) {\n        forceUpdate();\n      }\n      if (customHandler && typeof customHandler === 'function') {\n        customHandler(setChannels, event);\n      }\n    };\n    client.on('channel.updated', handleEvent);\n    return () => {\n      client.off('channel.updated', handleEvent);\n    };\n  }, [client, customHandler, forceUpdate, setChannels]);\n};","map":{"version":3,"names":["useEffect","useChatContext","useChannelUpdatedListener","setChannels","customHandler","forceUpdate","client","handleEvent","event","channels","channelIndex","findIndex","channel","cid","newChannels","data","hidden","own_capabilities","on","off"],"sources":["/Users/yashwantmoharil/Desktop/football-battlegrounds/client/node_modules/stream-chat-react/dist/components/ChannelList/hooks/useChannelUpdatedListener.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useChatContext } from '../../../context/ChatContext';\nexport const useChannelUpdatedListener = (setChannels, customHandler, forceUpdate) => {\n    const { client } = useChatContext('useChannelUpdatedListener');\n    useEffect(() => {\n        const handleEvent = (event) => {\n            setChannels((channels) => {\n                const channelIndex = channels.findIndex((channel) => channel.cid === event.channel?.cid);\n                if (channelIndex > -1 && event.channel) {\n                    const newChannels = channels;\n                    newChannels[channelIndex].data = {\n                        ...event.channel,\n                        hidden: event.channel?.hidden ?? newChannels[channelIndex].data?.hidden,\n                        own_capabilities: event.channel?.own_capabilities ??\n                            newChannels[channelIndex].data?.own_capabilities,\n                    };\n                    return [...newChannels];\n                }\n                return channels;\n            });\n            if (forceUpdate) {\n                forceUpdate();\n            }\n            if (customHandler && typeof customHandler === 'function') {\n                customHandler(setChannels, event);\n            }\n        };\n        client.on('channel.updated', handleEvent);\n        return () => {\n            client.off('channel.updated', handleEvent);\n        };\n    }, [client, customHandler, forceUpdate, setChannels]);\n};\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,cAAc,QAAQ,8BAA8B;AAC7D,OAAO,MAAMC,yBAAyB,GAAGA,CAACC,WAAW,EAAEC,aAAa,EAAEC,WAAW,KAAK;EAClF,MAAM;IAAEC;EAAO,CAAC,GAAGL,cAAc,CAAC,2BAA2B,CAAC;EAC9DD,SAAS,CAAC,MAAM;IACZ,MAAMO,WAAW,GAAIC,KAAK,IAAK;MAC3BL,WAAW,CAAEM,QAAQ,IAAK;QACtB,MAAMC,YAAY,GAAGD,QAAQ,CAACE,SAAS,CAAEC,OAAO,IAAKA,OAAO,CAACC,GAAG,KAAKL,KAAK,CAACI,OAAO,EAAEC,GAAG,CAAC;QACxF,IAAIH,YAAY,GAAG,CAAC,CAAC,IAAIF,KAAK,CAACI,OAAO,EAAE;UACpC,MAAME,WAAW,GAAGL,QAAQ;UAC5BK,WAAW,CAACJ,YAAY,CAAC,CAACK,IAAI,GAAG;YAC7B,GAAGP,KAAK,CAACI,OAAO;YAChBI,MAAM,EAAER,KAAK,CAACI,OAAO,EAAEI,MAAM,IAAIF,WAAW,CAACJ,YAAY,CAAC,CAACK,IAAI,EAAEC,MAAM;YACvEC,gBAAgB,EAAET,KAAK,CAACI,OAAO,EAAEK,gBAAgB,IAC7CH,WAAW,CAACJ,YAAY,CAAC,CAACK,IAAI,EAAEE;UACxC,CAAC;UACD,OAAO,CAAC,GAAGH,WAAW,CAAC;QAC3B;QACA,OAAOL,QAAQ;MACnB,CAAC,CAAC;MACF,IAAIJ,WAAW,EAAE;QACbA,WAAW,CAAC,CAAC;MACjB;MACA,IAAID,aAAa,IAAI,OAAOA,aAAa,KAAK,UAAU,EAAE;QACtDA,aAAa,CAACD,WAAW,EAAEK,KAAK,CAAC;MACrC;IACJ,CAAC;IACDF,MAAM,CAACY,EAAE,CAAC,iBAAiB,EAAEX,WAAW,CAAC;IACzC,OAAO,MAAM;MACTD,MAAM,CAACa,GAAG,CAAC,iBAAiB,EAAEZ,WAAW,CAAC;IAC9C,CAAC;EACL,CAAC,EAAE,CAACD,MAAM,EAAEF,aAAa,EAAEC,WAAW,EAAEF,WAAW,CAAC,CAAC;AACzD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}