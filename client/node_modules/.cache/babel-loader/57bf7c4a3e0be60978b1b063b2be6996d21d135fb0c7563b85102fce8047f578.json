{"ast":null,"code":"import React, { useCallback, useState } from 'react';\nimport clsx from 'clsx';\nimport { FieldError } from '../Form/FieldError';\nimport { useTranslationContext } from '../../context';\nexport const FormDialog = ({\n  className,\n  close,\n  fields,\n  onSubmit,\n  shouldDisableSubmitButton,\n  title\n}) => {\n  const {\n    t\n  } = useTranslationContext();\n  const [fieldErrors, setFieldErrors] = useState({});\n  const [value, setValue] = useState(() => {\n    let acc = {};\n    for (const [id, config] of Object.entries(fields)) {\n      acc = {\n        ...acc,\n        [id]: config.props.value\n      };\n    }\n    return acc;\n  });\n  const handleChange = useCallback(event => {\n    const fieldId = event.target.id;\n    const fieldConfig = fields[fieldId];\n    if (!fieldConfig) return;\n    const error = fieldConfig.validator?.(event.target.value);\n    if (error) {\n      setFieldErrors(prev => ({\n        [fieldId]: error,\n        ...prev\n      }));\n    } else {\n      setFieldErrors(prev => {\n        delete prev[fieldId];\n        return prev;\n      });\n    }\n    setValue(prev => ({\n      ...prev,\n      [fieldId]: event.target.value\n    }));\n    if (!fieldConfig.props.onChange) return;\n    if (fieldConfig.element === 'input') {\n      fieldConfig.props.onChange(event);\n    } else if (fieldConfig.element === 'textarea') {\n      fieldConfig.props.onChange(event);\n    }\n  }, [fields]);\n  const handleSubmit = async () => {\n    if (!Object.keys(value).length) return;\n    const errors = {};\n    for (const [id, fieldValue] of Object.entries(value)) {\n      const thisFieldError = fields[id].validator?.(fieldValue);\n      if (thisFieldError) {\n        errors[id] = thisFieldError;\n      }\n    }\n    if (Object.keys(errors).length) {\n      setFieldErrors(errors);\n      return;\n    }\n    await onSubmit(value);\n    close();\n  };\n  return React.createElement(\"div\", {\n    className: clsx('str-chat__dialog str-chat__dialog--form', className)\n  }, React.createElement(\"div\", {\n    className: 'str-chat__dialog__body'\n  }, title && React.createElement(\"div\", {\n    className: 'str-chat__dialog__title'\n  }, title), React.createElement(\"form\", {\n    autoComplete: 'off',\n    onSubmit: e => {\n      e.preventDefault();\n      handleSubmit();\n    }\n  }, Object.entries(fields).map(([id, fieldConfig]) => React.createElement(\"div\", {\n    className: 'str-chat__dialog__field',\n    key: `dialog-field-${id}`\n  }, fieldConfig.label && React.createElement(\"label\", {\n    className: clsx(`str-chat__dialog__title str-chat__dialog__title--${id}`),\n    htmlFor: id\n  }, fieldConfig.label), React.createElement(fieldConfig.element, {\n    id,\n    ...fieldConfig.props,\n    onChange: handleChange,\n    value: value[id]\n  }), React.createElement(FieldError, {\n    text: fieldErrors[id]?.message\n  }))), React.createElement(\"div\", {\n    className: 'str-chat__dialog__controls'\n  }, React.createElement(\"button\", {\n    className: 'str-chat__dialog__controls-button str-chat__dialog__controls-button--cancel',\n    onClick: close\n  }, t('Cancel')), React.createElement(\"button\", {\n    className: 'str-chat__dialog__controls-button str-chat__dialog__controls-button--submit',\n    disabled: Object.keys(fieldErrors).length > 0 || shouldDisableSubmitButton?.(value),\n    type: 'submit'\n  }, t('Send'))))));\n};","map":{"version":3,"names":["React","useCallback","useState","clsx","FieldError","useTranslationContext","FormDialog","className","close","fields","onSubmit","shouldDisableSubmitButton","title","t","fieldErrors","setFieldErrors","value","setValue","acc","id","config","Object","entries","props","handleChange","event","fieldId","target","fieldConfig","error","validator","prev","onChange","element","handleSubmit","keys","length","errors","fieldValue","thisFieldError","createElement","autoComplete","e","preventDefault","map","key","label","htmlFor","text","message","onClick","disabled","type"],"sources":["/Users/yashwantmoharil/Desktop/football-battlegrounds/client/node_modules/stream-chat-react/dist/components/Dialog/FormDialog.js"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport clsx from 'clsx';\nimport { FieldError } from '../Form/FieldError';\nimport { useTranslationContext } from '../../context';\nexport const FormDialog = ({ className, close, fields, onSubmit, shouldDisableSubmitButton, title, }) => {\n    const { t } = useTranslationContext();\n    const [fieldErrors, setFieldErrors] = useState({});\n    const [value, setValue] = useState(() => {\n        let acc = {};\n        for (const [id, config] of Object.entries(fields)) {\n            acc = { ...acc, [id]: config.props.value };\n        }\n        return acc;\n    });\n    const handleChange = useCallback((event) => {\n        const fieldId = event.target.id;\n        const fieldConfig = fields[fieldId];\n        if (!fieldConfig)\n            return;\n        const error = fieldConfig.validator?.(event.target.value);\n        if (error) {\n            setFieldErrors((prev) => ({ [fieldId]: error, ...prev }));\n        }\n        else {\n            setFieldErrors((prev) => {\n                delete prev[fieldId];\n                return prev;\n            });\n        }\n        setValue((prev) => ({ ...prev, [fieldId]: event.target.value }));\n        if (!fieldConfig.props.onChange)\n            return;\n        if (fieldConfig.element === 'input') {\n            fieldConfig.props.onChange(event);\n        }\n        else if (fieldConfig.element === 'textarea') {\n            fieldConfig.props.onChange(event);\n        }\n    }, [fields]);\n    const handleSubmit = async () => {\n        if (!Object.keys(value).length)\n            return;\n        const errors = {};\n        for (const [id, fieldValue] of Object.entries(value)) {\n            const thisFieldError = fields[id].validator?.(fieldValue);\n            if (thisFieldError) {\n                errors[id] = thisFieldError;\n            }\n        }\n        if (Object.keys(errors).length) {\n            setFieldErrors(errors);\n            return;\n        }\n        await onSubmit(value);\n        close();\n    };\n    return (React.createElement(\"div\", { className: clsx('str-chat__dialog str-chat__dialog--form', className) },\n        React.createElement(\"div\", { className: 'str-chat__dialog__body' },\n            title && React.createElement(\"div\", { className: 'str-chat__dialog__title' }, title),\n            React.createElement(\"form\", { autoComplete: 'off', onSubmit: (e) => {\n                    e.preventDefault();\n                    handleSubmit();\n                } },\n                Object.entries(fields).map(([id, fieldConfig]) => (React.createElement(\"div\", { className: 'str-chat__dialog__field', key: `dialog-field-${id}` },\n                    fieldConfig.label && (React.createElement(\"label\", { className: clsx(`str-chat__dialog__title str-chat__dialog__title--${id}`), htmlFor: id }, fieldConfig.label)),\n                    React.createElement(fieldConfig.element, {\n                        id,\n                        ...fieldConfig.props,\n                        onChange: handleChange,\n                        value: value[id],\n                    }),\n                    React.createElement(FieldError, { text: fieldErrors[id]?.message })))),\n                React.createElement(\"div\", { className: 'str-chat__dialog__controls' },\n                    React.createElement(\"button\", { className: 'str-chat__dialog__controls-button str-chat__dialog__controls-button--cancel', onClick: close }, t('Cancel')),\n                    React.createElement(\"button\", { className: 'str-chat__dialog__controls-button str-chat__dialog__controls-button--submit', disabled: Object.keys(fieldErrors).length > 0 || shouldDisableSubmitButton?.(value), type: 'submit' }, t('Send')))))));\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}